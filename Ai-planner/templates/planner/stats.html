{% extends "planner/base.html" %}
{% block title %}Stats | AI Habit Tracker{% endblock %}

{% block content %}
<h1 class="page-title">Statistics &amp; Analytics</h1>

<div class="columns">
  <!-- CARD 1 – AI Habit Score -->
  <div class="column">
    <div class="card card-main">
      <div class="card-header">
        <span>AI Habit Score</span>
      </div>
      <p class="card-text">
        Your overall performance based on consistency, productivity, and time management.
      </p>

      <div class="circle-row" style="margin-top:12px;">
        <div class="circle-card">
          <div class="circle">{{ today_score }}%</div>
          <span>Today</span>
        </div>
        <div class="circle-card">
          <div class="circle">{{ weekly_avg_score }}%</div>
          <span>Weekly Avg</span>
        </div>
        <div class="circle-card">
          <div class="circle">{{ best_streak }}</div>
          <span>Best Streak (days)</span>
        </div>
      </div>
    </div>
  </div>

  <!-- CARD 2 – Completed Habits (bars) -->
  <div class="column">
    <div class="card card-main">
      <div class="card-header">
        <span>Completed Habits</span>
      </div>
      <div class="bar-row" style="margin-top:10px;">
        {% for bar in category_bars %}
        <div class="bar-group">
          <div class="bar bar-purple" style="height: {{ bar.height }}px;"></div>
          <span>{{ bar.label }}</span>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- CARD 3 – Habit Trend (last 7 days) -->
  <div class="column">
    <div class="card card-main">
      <div class="card-header">
        <span>Habit Trend</span>
      </div>
      <p class="card-text">
        Shows your consistency over the last 7 days.
      </p>
      <div class="bar-row" style="margin-top:12px;">
        {% for d in trend_bars %}
        <div class="bar-group">
          <div class="bar bar-purple" style="height: {{ d.height }}px;"></div>
          <span>{{ d.label }}</span>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
